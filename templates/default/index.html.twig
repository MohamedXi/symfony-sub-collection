{% extends 'base.html.twig' %}
{% form_theme form 'jquery.collection.html.twig' %}

{% block title %}Test Form{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
{% endblock %}

{% block javascripts %}
	<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
	<script src="{{ asset('js/jquery.collection.js') }}"></script>

    <script type="text/javascript">
    	$(document).ready(function() {
	        $('.departements').collection({
	        	'prefix': 'departements-collection',
	        	'after_add': function(collection, element) {
	        		$('.villes').collection({
			        	'prefix': 'villes-collection'
			     	});
	        	}
	     	});
	        $('.villes').collection({
	        	'prefix': 'villes-collection'
	     	});
    	});
    </script>
{% endblock %}

{% block body %}
<div class="container">
	<h1>Nouvelle Region</h1>
	{{ form(form) }}
</div>
{% endblock %}
